


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
  <title>#gitfr</title>
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds.feedburner.com/gitfr" />
<link rel='stylesheet' href='/css/pygments_tango.css' type='text/css' />

<link rel='stylesheet' href='/css/pygments_murphy.css' type='text/css' />
<link rel='stylesheet' href='/css/pygments_tango.css' type='text/css' />
<link rel='stylesheet' href='/css/site.css' type='text/css' />
<link rel='stylesheet' href='/css/documentation.css' type='text/css' />
<link rel='stylesheet' href='/css/jquery.tweet.css' type='text/css' />

<script type="text/javascript" src="/js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/js/jquery.tweet.js"></script>
<script type="text/javascript" src="/js/googleRSSWidget.js"></script>
<script type="text/javascript" src="/js/site.js"></script>



  </head>
  <body>
    <div id="content">
      
  
<div id="header" onclick="location.href='/';" style="cursor: pointer;">
  <div id="plugbanner"></div>
  <div id="blog_logo"></div>
  <h1><a href="/">
      <span id="blog_name">
        #gitfr
      </span>
    </a>
  </h1>
</div>
<a href="http://github.com/gitfr/website"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
<div id="top_bar">
  <div class="ButtonBar">
    <ul>
      <li><a href="/">Accueil</a></li>
      <li><a href="/blog">Blog</a></li>
    </ul>
  </div>
  <div id="search">    
    <form id="searchform" method="get" action="http://www.google.com/search">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input type="hidden" name="domains" value="www.gitfr.net">
      <input type="hidden" name="sitesearch" value="www.gitfr.net">
      <input name="q" id="q" size="20" value="recherche..." onfocus="if(this.value==this.defaultValue) this.value='';" type="text">
    </form>
  </div>
</div>



      <div id="main_block">
        <div id="prose_block">
          
  
<div class="blog_post">
  <a name="git-1.7.4.1-publiee"></a>
  <h2 class="blog_post_title"><a href="/blog/2011/02/12/git-1.7.4.1-publiee" rel="bookmark" title="Permanent Link to Git 1.7.4.1 publiée">Git 1.7.4.1 publiée</a></h2>
  <p class="related"><strong>12/02/2011 02:24 PM</strong> | categories: 

<a href='/blog/category/release'>release</a>, <a href='/blog/category/git'>git</a>
 | <a href="http://www.gitfr.net/blog/2011/02/12/git-1.7.4.1-publiee#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>La première version de maintenance de la banche 1.7.4.x est sortie ce 12 février. Seulement 6 bugs corrigés mais suffisamment importants pour exiger une nouvelle release.</p>
<p>Le changelog :</p>
<ul>
<li>
<p>On Windows platform, the codepath to spawn a new child process forgot
  to first flush the output buffer.</p>
</li>
<li>
<p>"git bundle" did not use OFS_DELTA encoding, making its output a few
  per-cent larger than necessarily.</p>
</li>
<li>
<p>The option to tell "git clone" to recurse into the submodules was
  misspelled with an underscore "--recurse_submodules".</p>
</li>
<li>
<p>"git diff --cached HEAD" before the first commit does what an end user
  would expect (namely, show what would be committed without further "git
  add").</p>
</li>
<li>
<p>"git fast-import" didn't accept the command to ask for "notes" feature
  to be present in its input stream, even though it was capable of the
  feature.</p>
</li>
<li>
<p>"git fsck" gave up scanning loose object files in directories with
  garbage files.</p>
</li>
</ul>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2011/02/12/git-1.7.4.1-publiee#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
  
<div class="blog_post">
  <a name="git-1.7.4-publiee"></a>
  <h2 class="blog_post_title"><a href="/blog/2011/02/12/git-1.7.4-publiee" rel="bookmark" title="Permanent Link to Git 1.7.4 publiée">Git 1.7.4 publiée</a></h2>
  <p class="related"><strong>12/02/2011 02:16 PM</strong> | categories: 

<a href='/blog/category/release'>release</a>, <a href='/blog/category/git'>git</a>
 | <a href="http://www.gitfr.net/blog/2011/02/12/git-1.7.4-publiee#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>La version 1.7.4 est sortie le 31 janvier (oui je suis en retard), et n'apporte pas de changement majeur, mais principalement de nouvelles options ou corrections un peu partout dans Git.</p>
<p>Rien de transcendant à mes yeux mais j'apprécie la couleur de la branche dans le <code>git status</code>, <code>git blame --show-email</code>, <code>git merge --abort</code>, les options <code>--fixup</code> et <code>--squash</code> pour <code>git commit</code>, <code>git fetch --recurse-submodules</code>, l'affichage 3-way merge par défaut pour vim/gvim pour <code>git mergetool</code> et enfin <code>git log -G&lt;pattern&gt;</code> pour voir les lignes ajoutées ou supprimées qui correspondent au pattern.</p>
<p>Comme d'habitude, je vous laisse découvrir l'intégralité du changelog :</p>
<ul>
<li>
<p>The documentation Makefile now assumes by default asciidoc 8 and
  docbook-xsl &gt;= 1.73. If you have older versions, you can set
  ASCIIDOC7 and ASCIIDOC_ROFF, respectively.</p>
</li>
<li>
<p>The option parsers of various commands that create new branches (or
  rename existing ones to a new name) were too loose and users were
  allowed to give a branch a name that begins with a dash by creative
  abuse of their command line options, which only led to burning
  themselves.  The name of a branch cannot begin with a dash now.</p>
</li>
<li>
<p>System-wide fallback default attributes can be stored in
  /etc/gitattributes; the core.attributesfile configuration variable can
  be used to customize the path to this file.</p>
</li>
<li>
<p>The thread structure generated by "git send-email" has changed
  slightly.  Setting the cover letter of the latest series as a reply
  to the cover letter of the previous series with --in-reply-to used
  to make the new cover letter and all the patches replies to the
  cover letter of the previous series; this has been changed to make
  the patches in the new series replies to the new cover letter.</p>
</li>
<li>
<p>The Bash completion script in contrib/ has been adjusted to be usable with
  Bash 4 (options with '=value' didn't complete).  It has been also made
  usable with zsh.</p>
</li>
<li>
<p>Different pagers can be chosen depending on which subcommand is
  being run under the pager, using the "pager.<subcommand>" variable.</p>
</li>
<li>
<p>The hardcoded tab-width of 8 that is used in whitespace breakage checks is now
  configurable via the attributes mechanism.</p>
</li>
<li>
<p>Support of case insensitive filesystems (i.e. "core.ignorecase") has
  been improved.  For example, the gitignore mechanism didn't pay attention
  to case insensitivity.</p>
</li>
<li>
<p>The <tree>:<path> syntax for naming a blob in a tree, and the :<path>
  syntax for naming a blob in the index (e.g. "master:Makefile",
  ":hello.c") have been extended.  You can start <path> with "./" to
  implicitly have the (sub)directory you are in prefixed to the
  lookup.  Similarly, ":../Makefile" from a subdirectory would mean
  "the Makefile of the parent directory in the index".</p>
</li>
<li>
<p>"git blame" learned the --show-email option to display the e-mail
  addresses instead of the names of authors.</p>
</li>
<li>
<p>"git commit" learned the --fixup and --squash options to help later invocation
  of interactive rebase.</p>
</li>
<li>
<p>Command line options to "git cvsimport" whose names are in capital
  letters (-A, -M, -R and -S) can now be specified as the default in
  the .git/config file by their longer names (cvsimport.authorsFile,
  cvsimport.mergeRegex, cvsimport.trackRevisions, cvsimport.ignorePaths).</p>
</li>
<li>
<p>"git daemon" can be built in the MinGW environment.</p>
</li>
<li>
<p>"git daemon" can take more than one --listen option to listen to
  multiple addresses.</p>
</li>
<li>
<p>"git describe --exact-match" was optimized not to read commit
  objects unnecessarily.</p>
</li>
<li>
<p>"git diff" and "git grep" learned what functions and subroutines
  in Fortran, Pascal and Perl look like.</p>
</li>
<li>
<p>"git fetch" learned the "--recurse-submodules" option.</p>
</li>
<li>
<p>"git mergetool" tells vim/gvim to show a three-way diff by default
  (use vimdiff2/gvimdiff2 as the tool name for old behavior).</p>
</li>
<li>
<p>"git log -G<pattern>" limits the output to commits whose change has
  added or deleted lines that match the given pattern.</p>
</li>
<li>
<p>"git read-tree" with no argument as a way to empty the index is
  deprecated; we might want to remove it in the future.  Users can
  use the new --empty option to be more explicit instead.</p>
</li>
<li>
<p>"git repack -f" does not spend cycles to recompress objects in the
  non-delta representation anymore (use -F if you really mean it
  e.g. after you changed the core.compression variable setting).</p>
</li>
<li>
<p>"git merge --log" used to limit the resulting merge log to 20
  entries; this is now customizable by giving e.g. "--log=47".</p>
</li>
<li>
<p>"git merge" may work better when all files were moved out of a
  directory in one branch while a new file is created in place of that
  directory in the other branch.</p>
</li>
<li>
<p>"git merge" learned the "--abort" option, synonymous to
  "git reset --merge" when a merge is in progress.</p>
</li>
<li>
<p>"git notes" learned the "merge" subcommand to merge notes refs.
  In addition to the default manual conflict resolution, there are
  also several notes merge strategies for automatically resolving
  notes merge conflicts.</p>
</li>
<li>
<p>"git rebase --autosquash" can use SHA-1 object names to name the
  commit which is to be fixed up (e.g. "fixup! e83c5163").</p>
</li>
<li>
<p>The default "recursive" merge strategy learned the --rename-threshold
  option to influence the rename detection, similar to the -M option
  of "git diff".  From the "git merge" frontend, the "-X<strategy option>"
  interface, e.g. "git merge -Xrename-threshold=50% ...", can be used
  to trigger this.</p>
</li>
<li>
<p>The "recursive" strategy also learned to ignore various whitespace
  changes; the most notable is -Xignore-space-at-eol.</p>
</li>
<li>
<p>"git send-email" learned "--to-cmd", similar to "--cc-cmd", to read
  the recipient list from a command output.</p>
</li>
<li>
<p>"git send-email" learned to read and use "To:" from its input files.</p>
</li>
<li>
<p>you can extend "git shell", which is often used on boxes that allow
  git-only login over ssh as login shell, with a custom set of
  commands.</p>
</li>
<li>
<p>The current branch name in "git status" output can be colored differently
  from the generic header color by setting the "color.status.branch" variable.</p>
</li>
<li>
<p>"git submodule sync" updates metainformation for all submodules,
  not just the ones that have been checked out.</p>
</li>
<li>
<p>gitweb can use a custom 'highlight' command with its configuration file.</p>
</li>
<li>
<p>"git log --author=me --author=her" did not find commits written by
  me or by her; instead it looked for commits written by me and by
  her, which is impossible.</p>
</li>
<li>
<p>"git push --progress" shows progress indicators now.</p>
</li>
<li>
<p>"git rebase -i" showed a confusing error message when given a
  branch name that does not exist.</p>
</li>
<li>
<p>"git repack" places its temporary packs under $GIT_OBJECT_DIRECTORY/pack
  instead of $GIT_OBJECT_DIRECTORY/ to avoid cross directory renames.</p>
</li>
<li>
<p>"git submodule update --recursive --other-flags" passes flags down
  to its subinvocations.</p>
</li>
</ul>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2011/02/12/git-1.7.4-publiee#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
  
<div class="blog_post">
  <a name="git-1.7.3.5-publiee"></a>
  <h2 class="blog_post_title"><a href="/blog/2011/01/11/git-1.7.3.5-publiee" rel="bookmark" title="Permanent Link to Git 1.7.3.5 publiée">Git 1.7.3.5 publiée</a></h2>
  <p class="related"><strong>11/01/2011 08:03 AM</strong> | categories: 

<a href='/blog/category/release'>release</a>, <a href='/blog/category/git'>git</a>
 | <a href="http://www.gitfr.net/blog/2011/01/11/git-1.7.3.5-publiee#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>La version 1.7.3.5 est sortie le 6 Janvier, et c'est surement la dernière version de la série 1.7.3.x (sauf bien évidemment gros bug ou faille de sécurité). Voici les changements :</p>
<ul>
<li>test-lib.sh/test_decode_color(): use octal not hex in awk script</li>
<li>gitweb: Include links to feeds in HTML header only for '200 OK' response</li>
<li>ident: die on bogus date format</li>
<li>Fix typo in git-gc document.</li>
<li>t0050: fix printf format strings for portability</li>
<li>gitweb: skip logo in atom feed when there is none</li>
<li>commit: die before asking to edit the log message</li>
<li>am --abort: keep unrelated commits since the last failure and warn</li>
<li>rebase --skip: correctly wrap-up when skipping the last patch</li>
<li>status: Quote paths with spaces in short format</li>
<li>t/t8006: Demonstrate blame is broken when cachetextconv is on</li>
<li>fill_textconv(): Don't get/put cache if sha1 is not valid</li>
<li>fsck docs: remove outdated and useless diagnostic</li>
<li>git-difftool.txt: correct the description of $BASE and describe $MERGED</li>
<li>difftool: provide basename to external tools</li>
<li>t3419-*.sh: Fix arithmetic expansion syntax error</li>
<li>close file on error in read_mmfile()</li>
<li>Fix false positives in t3404 due to SHELL=/bin/false</li>
<li>t9001: Fix test prerequisites</li>
<li>userdiff: fix typo in ruby and python word regexes</li>
<li>trace.c: mark file-local function static</li>
</ul>
<p>Comme vous pouvez le constater, rien de bien important (enfin je dis cela car je ne suis pas tombé sur un des bugs :), les développeurs se focalisant depuis quelques semaines déja sur la future version 1.7.4.</p>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2011/01/11/git-1.7.3.5-publiee#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
  
<div class="blog_post">
  <a name="git-rejoint-la-software-freedom-conservancy"></a>
  <h2 class="blog_post_title"><a href="/blog/2010/12/18/git-rejoint-la-software-freedom-conservancy" rel="bookmark" title="Permanent Link to Git rejoint la Software Freedom Conservancy">Git rejoint la Software Freedom Conservancy</a></h2>
  <p class="related"><strong>18/12/2010 02:28 AM</strong> | categories: 

<a href='/blog/category/git'>git</a>
 | <a href="http://www.gitfr.net/blog/2010/12/18/git-rejoint-la-software-freedom-conservancy#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>La <strong>Software Freedom Conservancy</strong> est une organisation Ney-Yorkaise qui fait la promotion de <strong>Logiciels Libres</strong>, et qui a l'avantage d'être éxonéré de taxe (<em>tax-exempt 501(c)(3) organisation</em> dans le droit US). Cela signifie que cette association peut maintenant donner de l'argent au projet Git (donation déductible des impôts).</p>
<p>Voila une bonne nouvelle :).</p>
<p>Le mail d'annonce est <a href="http://comments.gmane.org/gmane.comp.version-control.git/163845">ici</a>.</p>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2010/12/18/git-rejoint-la-software-freedom-conservancy#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
  
<div class="blog_post">
  <a name="git-1.7.3.4-et-1.6.6.3-publiees"></a>
  <h2 class="blog_post_title"><a href="/blog/2010/12/16/git-1.7.3.4-et-1.6.6.3-publiees" rel="bookmark" title="Permanent Link to Git 1.7.3.4 et 1.6.6.3 publiées">Git 1.7.3.4 et 1.6.6.3 publiées</a></h2>
  <p class="related"><strong>16/12/2010 02:25 PM</strong> | categories: 

<a href='/blog/category/release'>release</a>, <a href='/blog/category/git'>git</a>
 | <a href="http://www.gitfr.net/blog/2010/12/16/git-1.7.3.4-et-1.6.6.3-publiees#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>Le changement le plus important est la correction d'une faille de sécurité sur <strong>Gitweb</strong>. Cette correction est backportée sur l'ensemble des branches de maintenance (1.7.2.5, 1.7.1.4, 1.7.0.9, 1.6.5.9, 1.6.4.5).</p>
<p>Junio (le mainteneur) en a profité pour intégrer d'autres correctifs (uniquement sur 1.7.3.4 et 1.6.6.3) :</p>
<ul>
<li>
<p>Smart HTTP transport used to incorrectly retry redirected POST
  request with GET request.</p>
</li>
<li>
<p>"git apply" did not correctly handle patches that only change modes
  if told to apply while stripping leading paths with -p option.</p>
</li>
<li>
<p>"git apply" can deal with patches with timezone formatted with a
  colon between the hours and minutes part (e.g. "-08:00" instead of
  "-0800").</p>
</li>
<li>
<p>"git checkout" removed an untracked file "foo" from the working
  tree when switching to a branch that contains a tracked path
  "foo/bar".  Prevent this, just like the case where the conflicting
  path were "foo" (c752e7f..7980872d).</p>
</li>
<li>
<p>"git cherry-pick" or "git revert" refused to work when a path that
  would be modified by the operation was stat-dirty without a real
  difference in the contents of the file.</p>
</li>
<li>
<p>"git diff --check" reported an incorrect line number for added
  blank lines at the end of file.</p>
</li>
<li>
<p>"git imap-send" failed to build under NO_OPENSSL.</p>
</li>
<li>
<p>Setting log.decorate configuration variable to "0" or "1" to mean
  "false" or "true" did not work.</p>
</li>
<li>
<p>"git push" over dumb HTTP protocol did not work against WebDAV
  servers that did not terminate a collection name with a slash.</p>
</li>
<li>
<p>"git tag -v" did not work with GPG signatures in rfc1991 mode.</p>
</li>
<li>
<p>The post-receive-email sample hook was accidentally broken in 1.7.3.3
  update.</p>
</li>
<li>
<p>"gitweb" can sometimes be tricked into parrotting a filename argument
  given in a request without properly quoting.</p>
</li>
</ul>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2010/12/16/git-1.7.3.4-et-1.6.6.3-publiees#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
  
<div class="blog_post">
  <a name="la-commande-clone"></a>
  <h2 class="blog_post_title"><a href="/blog/2010/12/12/la-commande-clone" rel="bookmark" title="Permanent Link to La commande clone">La commande clone</a></h2>
  <p class="related"><strong>12/12/2010 05:49 AM</strong> | categories: 

<a href='/blog/category/git'>git</a>, <a href='/blog/category/git-clone'>git-clone</a>
 | <a href="http://www.gitfr.net/blog/2010/12/12/la-commande-clone#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>Si l'on souhaite récupérer un dépôt existant, il faut passer par la commande clone. Ce dernier va créer une copie locale, créer des branches <strong>remotes</strong>, et créer une branche <strong>locale</strong> qui est une copie de la branche active du dépôt distant (généralement <strong>master</strong>).</p>
<p>La commande est simple :</p>
<blockquote>
<p><code>$ git clone &lt;dépôt&gt; [&lt;répertoire&gt;]</code></p>
</blockquote>
<p>L'URL du dépôt distant peut être en <strong>http(s)</strong>, <strong>ssh</strong>, <strong>git</strong>, <strong>ftp(s)</strong> et <strong>rsync</strong>. Les trois premiers étant les plus courants. Il était conseillé pendant longtemps de pas utiliser le http, mais depuis la version 1.6.6, Git utilise le <strong>Smart HTTP Transport</strong>, qui est efficace.</p>
<p>Le répertoire est optionnel, par défaut Git prendra le nom du dépôt (sans le <code>.git</code> s'il existe).</p>
<p>La partie intéressante à comprendre est contenue dans le fichier <code>config</code> du dépôt local, généré par Git :</p>
<pre><code>[remote "origin"]
    fetch = +refs/heads/*:refs/remotes/origin/*
    url = git://git.kernel.org/pub/scm/git/git.git
[branch "master"]
    remote = origin
    merge = refs/heads/master
</code></pre>
<p>C'es lignes sont la traduction technique de l'introduction de ce billet :</p>
<ul>
<li>
<p>Git ajoute le dépôt distant avec pour nom <strong>origin</strong> (convention de nommage). Je peux maintenant utiliser le terme origin au lieu de <code>git://git.kernel.org/pub/scm/git/git.git</code> (ce dernier est toujours utilisable). La section remote peut aussi s'ajouter avec la commande <code>git remote</code>.</p>
</li>
<li>
<p>La ligne fetch indique comment Git doit traduire l'espace de nom distant en espace de nom local. Par défaut, il traduit toutes les branches distantes en branches locales (ex : refs/remotes/origin/abc devient refs/heads/abc). Cette ligne est appelée <strong>refspec</strong> (que nous verrons en détail dans un autre billet).</p>
</li>
<li>
<p>Enfin, Git <strong>traque</strong> la branche active distante. Que signifie traquer ? Cela veut dire modéliser une relation entre deux branches. Ici ma branche master locale est associée à la branche master du dépôt origin. Quand vous faites un <code>git pull</code> ou un <code>git push</code> sur la branche locale, il va prendre la branche traquée comme référence. Sans cette information, Git demande de spécifier le dépôt et la branche sur laquelle il doit travailler.</p>
</li>
</ul>
<p>Le refpsec est obligatoire, les informations de suivies (<em>tracking</em>) sont optionnelles (mais bien pratiques).</p>
<p>Il existe plusieurs options à cette commande, comme <code>--bare</code> que nous avons déja vu avec la commande init. Je liste celles qui me semblent intéressantes à connaitre (n'hésitez pas à lire la documentation) :</p>
<ul>
<li>
<p><code>--origin</code> : spécifier un nom différent que origin pour le nom remote.</p>
</li>
<li>
<p><code>--branch</code> : spécifier la branche à récupérer au lieu de master.</p>
</li>
<li>
<p><code>--recursive</code> : initialiser aussi les sous modules (<strong>submodules</strong>).</p>
</li>
<li>
<p><code>--depth</code> : permet de créer une copie non complète (appelez <strong>shallow clone</strong>).</p>
</li>
<li>
<p><code>--mirror</code> : permet de tout récupérer (mappe toutes les références).</p>
</li>
</ul>
<p>Autre chose intéressante, si vous avez beaucoup de dépôts sur une URL identique, vous pouvez ajouter un alias dans votre fichier de configuration :</p>
<pre><code>[url "ssh://git.masociete.com/srv/git"]
insteadOf = work:
</code></pre>
<p>C'est toujours ça de gagné.</p>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2010/12/12/la-commande-clone#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
  
<div class="blog_post">
  <a name="structure-d-un-depot-git"></a>
  <h2 class="blog_post_title"><a href="/blog/2010/12/12/structure-d-un-depot-git" rel="bookmark" title="Permanent Link to Structure d'un dépôt Git">Structure d'un dépôt Git</a></h2>
  <p class="related"><strong>12/12/2010 02:35 AM</strong> | categories: 

<a href='/blog/category/git'>git</a>
 | <a href="http://www.gitfr.net/blog/2010/12/12/structure-d-un-depot-git#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>Un dépôt Git se matérialise par la présence du répertoire <code>.git</code>. Il est unique, contrairement à <em>SVN</em> et <em>CVS</em> (et quel bonheur de ne plus avoir tous ces sous répertoires !), et se trouve à la racine du projet (<code>myproject/.git</code>). Dans le cas d'un dépôt partagé (dépôt <em>bare</em>), le contenu de ce sous répertoire se trouve directement dans le répertoire principal.</p>
<p>La structure est trés simple. Voici un exemple avec un dépôt qui vient d'être créé :</p>
<p><img alt="" src="http://media.tumblr.com/tumblr_ldag4xEM841qdkaiq.png" /></p>
<ul>
<li>
<p>config : fichier de configuration du dépôt (nous aborderons la configuration dans un autre billet).</p>
</li>
<li>
<p>description : fichier texte que vous devez modifier pour expliquer en une phrase le contenu du dépôt. Cette description est affichée par des outils comme <strong>Gitweb</strong> ou <strong>cgit</strong>.</p>
</li>
<li>
<p>objects : ce répertoire contient tous les objets (blob, tree, commit, tag). Chaque object est contenu dans un fichier séparé, accessible par un sous répertoire dont le nom correspond aux deux premières lettres du SHA1 de l'objet (ce qui donne 256 sous répertoires au maximum). Exemple : si un objet commence par <code>a156bc76e</code>, alors l'objet sera localisé dans le répertoire <code>objects/a1/</code>, avec pour nom de fichier <code>56bc76e</code>. Quand le nombre d'objets dépasse un seuil, Git compresse les objets, ajoute un fichier index et déplace le tout dans le sous répertoire <code>objects/pack</code>.</p>
</li>
<li>
<p>refs : toutes les références sont dans ce répertoire. Dans le sous répertoire <strong>heads</strong> si cela concerne une branche, <strong>tags</strong> si c'est un tag et <strong>remotes</strong> si c'est une branche d'un répôt distant. Vous pouvez aussi trouver le répertoire <code>packed-refs</code> dans le cas des packs Git.</p>
</li>
<li>
<p>HEAD : c'est une référence symbolique, son contenu n'étant pas un commit mais une autre référence. Elle pointe sur la branche courante. Il existe une exception dans le cas d'un <strong>detached head</strong>, HEAD pointe alors directement sur un commit.</p>
</li>
<li>
<p>branches : ce répertoire n'est plus utilisé.</p>
</li>
<li>
<p>hooks : contient les scripts de personnalisation.</p>
</li>
<li>
<p>index : fichier binaire qui contient la liste des fichiers en cours de modification (cela représente le commit en cours de création, appelé en anglais <em>staging</em>). vous pouvez parcourir ce fichier avec la commande <code>git ls-files --stage</code>.</p>
</li>
<li>
<p>info : informations additionnelles utilisées par Git, comme les attributs ou les fichiers à ignorer.</p>
</li>
<li>
<p>logs : tout changement est enregistré dans un fichier de log, avec un fichier par branche ou tag.</p>
</li>
</ul>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2010/12/12/structure-d-un-depot-git#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
  
<div class="blog_post">
  <a name="la-commande-init"></a>
  <h2 class="blog_post_title"><a href="/blog/2010/12/12/la-commande-init" rel="bookmark" title="Permanent Link to La commande init">La commande init</a></h2>
  <p class="related"><strong>12/12/2010 12:14 AM</strong> | categories: 

<a href='/blog/category/git-init'>git-init</a>, <a href='/blog/category/git'>git</a>
 | <a href="http://www.gitfr.net/blog/2010/12/12/la-commande-init#disqus_thread">Commentaires</a>
<p/>
  <div class="post_prose">
    
  <p>Ce billet est la première d'une série sur les commandes Git. Et quoi de plus naturel que de commencer par la première commande que tout utilisateur tape quand il apprend Git : la commande <code>init</code> (l'aventurier commencera peut être par un <code>git clone</code> :).</p>
<p>L'objectif de cette commande est d'initialiser un répertoire, c'est à dire de lui ajouter le dépôt Git, qui pour nom <code>.git</code>.</p>
<blockquote>
<p>$ git init ~/src/myrepo</p>
<p>Initialized empty Git repository in ~/src/myrepo/.git/</p>
</blockquote>
<p>Ce répertoire est toujours constitué du même contenu (nous aborderons en détail le contenu dans un autre billet, ainsi que la configuration). Vous pouvez changer cela en spécifiant un répertoires de templates (option <code>--template</code>).</p>
<p><strong>Note</strong> : Si vous ne spécifiez pas de répertoire (<code>git init</code>), c'est le répertoire courant qui est utilisé.</p>
<p>L'option la plus importante est <code>--bare</code>, qui permet de créer un dépôt partagé. Quelle est la différence ? C'est une histoire de workflow : avec un dépôt «normal», seule la commande de synchronisation <strong>pull</strong> est permise. Git par du principe que c'est votre dépôt, et que personne n'a le droit de pousser des objets dedans. A contrario, un dépôt <strong>bare</strong> se veut un dépôt partagé, est donc la commande <strong>push</strong> est aussi autorisée.</p>
<p><strong>Note</strong> : Il n'existe pas de mécanismes d'identification et d'authorisation dans Git, c'est à vous de le rajouter avec d'autres outils.</p>
<p>Une autre différence, qui se voit rapidement est qu'un dépôt «bare» ne contient pas de copie de travail (<strong>working directory</strong>). A la place, vous avez directement le contenu du répertoire .git à la racine. C'est assez logique, c'est un dépôt partagé, personne n'est censé travailler directement dessus.</p>
<p>Troisième différence, le fichier de configuration possède la variable <code>bare = true</code>.</p>
<p>Avec l'option <code>--bare</code>, on associe souvent l'option <code>--shared</code>, qui permet de spécifier les droits Unix sur le dépôt. Tout administrateur Unix comprendra aisement les possibilités (les explications dépassent largement le cadre de ce billet). Si vous ne savez pas, utilisez <code>--shared=all</code>.</p>
<p><strong>Note</strong> : Par convention, le nom du répertoire du projet qui héberge un dépôt bare se termine par <code>.git</code>. Exemple : <code>myproject.git</code>, alors que votre dépôt privé s'appelle <code>myproject</code>. Cela permet d'indiquer que ce répertoire contient directement la structure, et non un sous répertoire <code>.git</code>.</p>
<p>Et voila ! Votre dépôt Git est fin prêt, vous pouvez vous déplacer dedans et créer votre premier commit.</p>

  </div>
</div>



  <div class="after_post"><a href="http://www.gitfr.net/blog/2010/12/12/la-commande-init#disqus_thread">Lire et poster des commentaires</a></div>
  <hr class="interblog" />
 <a href="../8">« Articles suivants</a>
  --  
 <a href="../10">Articles précédents »</a>

        </div><!-- End Prose Block -->
        
  <div class="right_sidebar">
    <div id="right_sidebar">
  <div id="rss">
    <h2>flux RSS</h2>
    <a href="http://feeds.feedburner.com/gitfr">billets</a>
    /
    <a href="http://gitfr.disqus.com/latest.rss">commentaires</a>
  </div>
  <div id="contact">
    <h2>Contact</h2>
    mail : seb@gitfr.net<br />
    liste de diffusion : <a href="http://groups.google.com/group/gitfr">gitfr</a><br />
    IRC : #git-fr sur Freenode
  </div>
  <div id="blog_post_list">
    <h2>Derniers billets</h2>
    <ul>
    <li><a href="/blog/2012/04/15/git-1.7.10-publiee">Git 1.7.10 publiée</a></li>
    <li><a href="/blog/2012/03/30/presentation-git-le-12-04-a-lausanne">Présentation Git le 12/04 à Lausanne</a></li>
    <li><a href="/blog/2012/02/01/mise-a-jour-de-la-presentation-git">Mise à jour de la présentation Git</a></li>
    <li><a href="/blog/2012/02/01/presentation-git-le-13-02-a-montpellier">Présentation Git le 13/02 à Montpellier</a></li>
    <li><a href="/blog/2012/01/28/git-1.7.9-publiee">Git 1.7.9 publiée</a></li>
    <li><a href="/blog/2012/01/26/presentation-et-atelier-git-le-20-02-a-lyon">Présentation et atelier Git le 20/02 à Lyon</a></li>
    <li><a href="/blog/2012/01/26/la-commande-diff">La commande diff</a></li>
    <li><a href="/blog/2012/01/10/retour-sur-un-an-de-gitfr">Retour sur un an de gitfr</a></li>
  </ul>
  </div>
  <div id="on_twitter">
    <h3>Sur Twitter</h2>
    <div id="blogofile_tweets"></div>
    <a href="http://twitter.com/gitfr" style="float: right">Plus de tweets</a>
  </div>
  <div id="categories">
    <h2>Categories</h2>
    <ul>
     <li><a href="/blog/category/astuce">astuce</a> (<a href="/blog/category/astuce/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/atelier">atelier</a> (<a href="/blog/category/atelier/feed">rss</a>) (23)</li>
     <li><a href="/blog/category/configuration">configuration</a> (<a href="/blog/category/configuration/feed">rss</a>) (7)</li>
     <li><a href="/blog/category/git">git</a> (<a href="/blog/category/git/feed">rss</a>) (55)</li>
     <li><a href="/blog/category/git-git-diff">git git-diff</a> (<a href="/blog/category/git-git-diff/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-add">git-add</a> (<a href="/blog/category/git-add/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-checkout">git-checkout</a> (<a href="/blog/category/git-checkout/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-clone">git-clone</a> (<a href="/blog/category/git-clone/feed">rss</a>) (2)</li>
     <li><a href="/blog/category/git-commit">git-commit</a> (<a href="/blog/category/git-commit/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-fetch">git-fetch</a> (<a href="/blog/category/git-fetch/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-init">git-init</a> (<a href="/blog/category/git-init/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-pull">git-pull</a> (<a href="/blog/category/git-pull/feed">rss</a>) (2)</li>
     <li><a href="/blog/category/git-push">git-push</a> (<a href="/blog/category/git-push/feed">rss</a>) (2)</li>
     <li><a href="/blog/category/git-remote">git-remote</a> (<a href="/blog/category/git-remote/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-reset">git-reset</a> (<a href="/blog/category/git-reset/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-revert">git-revert</a> (<a href="/blog/category/git-revert/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/git-rm">git-rm</a> (<a href="/blog/category/git-rm/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/gitfr">gitfr</a> (<a href="/blog/category/gitfr/feed">rss</a>) (29)</li>
     <li><a href="/blog/category/github">github</a> (<a href="/blog/category/github/feed">rss</a>) (11)</li>
     <li><a href="/blog/category/google-code">google code</a> (<a href="/blog/category/google-code/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/hg">hg</a> (<a href="/blog/category/hg/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/installation">installation</a> (<a href="/blog/category/installation/feed">rss</a>) (3)</li>
     <li><a href="/blog/category/macos">macos</a> (<a href="/blog/category/macos/feed">rss</a>) (2)</li>
     <li><a href="/blog/category/migration">migration</a> (<a href="/blog/category/migration/feed">rss</a>) (6)</li>
     <li><a href="/blog/category/outil">outil</a> (<a href="/blog/category/outil/feed">rss</a>) (4)</li>
     <li><a href="/blog/category/refspec">refspec</a> (<a href="/blog/category/refspec/feed">rss</a>) (2)</li>
     <li><a href="/blog/category/release">release</a> (<a href="/blog/category/release/feed">rss</a>) (20)</li>
     <li><a href="/blog/category/traduction">traduction</a> (<a href="/blog/category/traduction/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/ubuntu">ubuntu</a> (<a href="/blog/category/ubuntu/feed">rss</a>) (1)</li>
     <li><a href="/blog/category/windows">windows</a> (<a href="/blog/category/windows/feed">rss</a>) (2)</li>
    </ul>
  </div> 
  <div id="archives">			
    <h2>Archives</h2>
    <ul>
      <li><a href="/blog/archive/2012/04/1" title="April 2012">April 2012</a>&nbsp;(1)</li>
      <li><a href="/blog/archive/2012/03/1" title="March 2012">March 2012</a>&nbsp;(1)</li>
      <li><a href="/blog/archive/2012/02/1" title="February 2012">February 2012</a>&nbsp;(2)</li>
      <li><a href="/blog/archive/2012/01/1" title="January 2012">January 2012</a>&nbsp;(4)</li>
      <li><a href="/blog/archive/2011/12/1" title="December 2011">December 2011</a>&nbsp;(5)</li>
      <li><a href="/blog/archive/2011/10/1" title="October 2011">October 2011</a>&nbsp;(7)</li>
      <li><a href="/blog/archive/2011/09/1" title="September 2011">September 2011</a>&nbsp;(1)</li>
      <li><a href="/blog/archive/2011/08/1" title="August 2011">August 2011</a>&nbsp;(2)</li>
      <li><a href="/blog/archive/2011/07/1" title="July 2011">July 2011</a>&nbsp;(5)</li>
      <li><a href="/blog/archive/2011/06/1" title="June 2011">June 2011</a>&nbsp;(6)</li>
      <li><a href="/blog/archive/2011/05/1" title="May 2011">May 2011</a>&nbsp;(2)</li>
      <li><a href="/blog/archive/2011/04/1" title="April 2011">April 2011</a>&nbsp;(23)</li>
      <li><a href="/blog/archive/2011/03/1" title="March 2011">March 2011</a>&nbsp;(4)</li>
      <li><a href="/blog/archive/2011/02/1" title="February 2011">February 2011</a>&nbsp;(3)</li>
      <li><a href="/blog/archive/2011/01/1" title="January 2011">January 2011</a>&nbsp;(1)</li>
      <li><a href="/blog/archive/2010/12/1" title="December 2010">December 2010</a>&nbsp;(12)</li>
      <li><a href="/blog/archive/2010/11/1" title="November 2010">November 2010</a>&nbsp;(12)</li>
      <li><a href="/blog/archive/2010/10/1" title="October 2010">October 2010</a>&nbsp;(3)</li>
    </ul>
  </div>
  <div id="credits">
    <h2>Crédits</h2>
    Propulsé par <a href="http://www.blogofile.com">Blogofile</a>
  </div>

</div>

  </div>

      </div><!-- End Main Block -->
    </div> <!-- End Content -->

    <script type="text/javascript">
  
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-19444937-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script');
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            ga.setAttribute('async', 'true');
            document.documentElement.firstChild.appendChild(ga);
        })();

    </script>
  </body>
</html>





